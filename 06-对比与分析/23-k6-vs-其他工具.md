# 第23章：k6 vs 其他工具

## 23.1 k6 vs Gatling

### 架构对比

| 特性 | k6 | Gatling |
|------|----|---------|
| **编程语言** | Go + JavaScript | Scala |
| **脚本语言** | JavaScript | Scala DSL |
| **学习曲线** | 平缓 | 中等 |
| **性能** | 高 | 高 |
| **报告** | 简洁 | 详细美观 |
| **分布式** | 需要 k6 Cloud | 原生支持 |

### 性能对比

**单机并发能力**：
- k6: 10,000+ VU
- Gatling: 5,000+ 用户

**内存占用**（100 并发）：
- k6: ~80-150 MB
- Gatling: ~200-300 MB

### 选择建议

**选择 k6**：
- 有 JavaScript 基础
- 需要 CI/CD 集成
- 追求简洁

**选择 Gatling**：
- 有 Scala 基础
- 需要详细报告
- 需要原生分布式

## 23.2 k6 vs Locust

### 架构对比

| 特性 | k6 | Locust |
|------|----|--------|
| **编程语言** | Go + JavaScript | Python |
| **脚本语言** | JavaScript | Python |
| **Web UI** | 无 | 有 |
| **分布式** | 需要 k6 Cloud | 原生支持 |
| **性能** | 高 | 中等 |
| **资源消耗** | 低 | 低 |

### 性能对比

**单机并发能力**：
- k6: 10,000+ VU
- Locust: 1,000-2,000 用户

**内存占用**（100 并发）：
- k6: ~80-150 MB
- Locust: ~100-200 MB

### 选择建议

**选择 k6**：
- 追求高性能
- 需要 CI/CD 集成
- 不需要 Web UI

**选择 Locust**：
- 需要 Web UI
- 需要原生分布式
- 有 Python 基础

## 23.3 k6 vs Artillery

### 架构对比

| 特性 | k6 | Artillery |
|------|----|-----------|
| **编程语言** | Go + JavaScript | Node.js + YAML/JS |
| **脚本格式** | JavaScript | YAML + JavaScript |
| **学习曲线** | 中等 | 平缓 |
| **性能** | 高 | 中等 |
| **配置** | 代码 | YAML 配置 |

### 性能对比

**单机并发能力**：
- k6: 10,000+ VU
- Artillery: 500-1,000 用户

### 选择建议

**选择 k6**：
- 追求高性能
- 需要复杂逻辑
- 熟悉 JavaScript

**选择 Artillery**：
- 需要简单配置
- YAML 配置友好
- 快速上手

## 23.4 k6 vs wrk

### 架构对比

| 特性 | k6 | wrk |
|------|----|-----|
| **编程语言** | Go + JavaScript | C |
| **脚本支持** | 是 | 否 |
| **功能** | 丰富 | 简单 |
| **性能** | 高 | 极高 |
| **使用场景** | 复杂测试 | 简单压测 |

### 性能对比

**单机并发能力**：
- k6: 10,000+ VU
- wrk: 50,000+ 连接

**适用场景**：
- k6: 复杂业务流程测试
- wrk: 简单 HTTP 压测

### 选择建议

**选择 k6**：
- 需要复杂测试逻辑
- 需要检查断言
- 需要 CI/CD 集成

**选择 wrk**：
- 只需要简单压测
- 追求极致性能
- 不需要脚本

## 23.5 工具选择决策树

```
开始
 │
 ├─ 需要 GUI？
 │   ├─ 是 → JMeter 或 Locust
 │   └─ 否 ↓
 │
 ├─ 需要脚本？
 │   ├─ 否 → wrk
 │   └─ 是 ↓
 │
 ├─ 脚本语言偏好？
 │   ├─ JavaScript → k6
 │   ├─ Python → Locust
 │   ├─ Scala → Gatling
 │   └─ YAML → Artillery
 │
 ├─ 需要分布式？
 │   ├─ 是 → Gatling 或 Locust
 │   └─ 否 → k6
 │
 └─ 追求性能？
     ├─ 是 → k6 或 wrk
     └─ 否 → 其他工具
```

## 23.6 综合对比表

| 工具 | 性能 | 易用性 | 功能 | 报告 | 分布式 | 推荐场景 |
|------|------|--------|------|------|--------|----------|
| **k6** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | API测试、CI/CD |
| **JMeter** | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 企业级测试 |
| **Gatling** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 详细报告需求 |
| **Locust** | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | Python团队 |
| **Artillery** | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | 快速上手 |
| **wrk** | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐ | ⭐ | ⭐ | 简单压测 |

## 23.7 总结

各工具特点：

✅ **k6**：现代化、高性能、CI/CD 友好  
✅ **JMeter**：功能全面、GUI 工具、生态丰富  
✅ **Gatling**：性能优秀、报告详细、分布式支持  
✅ **Locust**：Python 友好、Web UI、分布式支持  
✅ **Artillery**：配置简单、快速上手  
✅ **wrk**：性能极致、简单直接  

根据实际需求选择合适的工具！

---

**下一章**：[第26章：错误处理与调试](./07-最佳实践/26-错误处理与调试.md)

