# k6 性能测试完全指南

> 从入门到精通，全面掌握现代化性能测试工具 k6

## 📚 目录

### 第一部分：基础入门

- [第1章：k6 简介](./01-k6简介.md)
  - 1.1 什么是 k6
  - 1.2 k6 的发展历史
  - 1.3 k6 的核心优势
  - 1.4 k6 的适用人群
  - 1.5 k6 在性能测试领域的地位

- [第2章：k6 核心原理](./02-k6核心原理.md)
  - 2.1 k6 的架构设计
  - 2.2 Go 语言运行时的优势
  - 2.3 JavaScript 脚本执行机制
  - 2.4 虚拟用户（VU）的实现原理
  - 2.5 事件循环与并发模型
  - 2.6 内存管理与资源优化
  - 2.7 指标收集与统计机制

- [第3章：安装与配置](./03-安装与配置.md)
  - 3.1 系统要求
  - 3.2 macOS 安装
  - 3.3 Linux 安装
  - 3.4 Windows 安装
  - 3.5 Docker 安装
  - 3.6 验证安装
  - 3.7 环境变量配置
  - 3.8 常见安装问题解决

### 第二部分：核心功能

- [第4章：k6 基础语法](./04-k6基础语法.md)
  - 4.1 脚本结构
  - 4.2 导入模块
  - 4.3 测试配置（options）
  - 4.4 默认函数（default function）
  - 4.5 初始化函数（setup）
  - 4.6 清理函数（teardown）
  - 4.7 环境变量使用
  - 4.8 注释与文档

- [第5章：HTTP 请求详解](./05-HTTP请求详解.md)
  - 5.1 GET 请求
  - 5.2 POST 请求
  - 5.3 PUT/PATCH 请求
  - 5.4 DELETE 请求
  - 5.5 请求头设置
  - 5.6 请求体处理
  - 5.7 Cookie 管理
  - 5.8 会话保持
  - 5.9 批量请求
  - 5.10 请求超时设置
  - 5.11 重试机制

- [第6章：测试场景配置](./06-测试场景配置.md)
  - 6.1 简单场景配置
  - 6.2 分阶段场景（Stages）
  - 6.3 多个场景并行
  - 6.4 场景执行器类型
  - 6.5 固定虚拟用户数
  - 6.6 固定迭代次数
  - 6.7 固定到达速率
  - 6.8 共享迭代次数
  - 6.9 场景调度与时间控制

- [第7章：检查与断言](./07-检查与断言.md)
  - 7.1 check() 函数使用
  - 7.2 状态码检查
  - 7.3 响应时间检查
  - 7.4 响应体检查
  - 7.5 JSON 数据验证
  - 7.6 自定义检查逻辑
  - 7.7 检查结果统计
  - 7.8 断言最佳实践

- [第8章：指标与阈值](./08-指标与阈值.md)
  - 8.1 内置指标详解
  - 8.2 HTTP 指标
  - 8.3 系统指标
  - 8.4 自定义指标
  - 8.5 Counter 计数器
  - 8.6 Rate 速率
  - 8.7 Trend 趋势
  - 8.8 Gauge 仪表盘
  - 8.9 阈值（Thresholds）配置
  - 8.10 阈值表达式
  - 8.11 测试通过/失败判断

### 第三部分：高级功能

- [第9章：数据驱动测试](./09-数据驱动测试.md)
  - 9.1 CSV 文件读取
  - 9.2 JSON 文件读取
  - 9.3 SharedArray 使用
  - 9.4 数据参数化
  - 9.5 动态数据生成
  - 9.6 数据文件最佳实践

- [第10章：分组与标签](./10-分组与标签.md)
  - 10.1 group() 函数
  - 10.2 标签（Tags）使用
  - 10.3 自定义标签
  - 10.4 标签过滤与统计
  - 10.5 分组统计报告

- [第11章：WebSocket 测试](./11-WebSocket测试.md)
  - 11.1 WebSocket 连接
  - 11.2 消息发送与接收
  - 11.3 事件处理
  - 11.4 连接管理
  - 11.5 实时通信测试场景

- [第12章：gRPC 测试](./12-gRPC测试.md)
  - 12.1 gRPC 协议介绍
  - 12.2 Protocol Buffers 配置
  - 12.3 gRPC 客户端使用
  - 12.4 服务调用
  - 12.5 流式调用测试

- [第13章：文件操作](./13-文件操作.md)
  - 13.1 文件读取
  - 13.2 文件上传
  - 13.3 文件下载
  - 13.4 二进制文件处理

### 第四部分：实战应用

- [第14章：k6 具体使用场景](./14-k6具体使用场景.md)
  - 14.1 API 性能测试
  - 14.2 微服务性能测试
  - 14.3 网站性能测试
  - 14.4 数据库性能测试
  - 14.5 缓存性能测试
  - 14.6 消息队列性能测试
  - 14.7 实时通信性能测试

- [第15章：k6 适合的测试场景](./15-k6适合的测试场景.md)
  - 15.1 负载测试（Load Testing）
  - 15.2 压力测试（Stress Testing）
  - 15.3 峰值测试（Spike Testing）
  - 15.4 浸泡测试（Soak Testing）
  - 15.5 容量测试（Capacity Testing）
  - 15.6 烟雾测试（Smoke Testing）
  - 15.7 场景选择指南

- [第16章：实战案例一：RESTful API 测试](./16-实战案例-RESTful-API.md)
  - 16.1 项目背景
  - 16.2 测试需求分析
  - 16.3 测试脚本编写
  - 16.4 测试场景设计
  - 16.5 结果分析与优化

- [第17章：实战案例二：用户登录流程测试](./17-实战案例-登录流程.md)
  - 17.1 业务流程分析
  - 17.2 认证机制处理
  - 17.3 会话管理
  - 17.4 多步骤流程测试

- [第18章：实战案例三：电商系统性能测试](./18-实战案例-电商系统.md)
  - 18.1 系统架构分析
  - 18.2 核心接口识别
  - 18.3 测试场景设计
  - 18.4 数据准备
  - 18.5 性能瓶颈分析

### 第五部分：集成与监控

- [第19章：k6 简单集成到图表](./19-简单图表集成.md)
  - 19.1 JSON 输出
  - 19.2 CSV 输出
  - 19.3 使用 Excel 可视化
  - 19.4 使用在线工具可视化
  - 19.5 简单的 Python 脚本分析

- [第20章：k6 集成到完整监控系统](./20-完整监控系统集成.md)
  - 20.1 InfluxDB 集成
  - 20.2 Grafana 可视化配置
  - 20.3 Prometheus 集成
  - 20.4 Datadog 集成
  - 20.5 CloudWatch 集成
  - 20.6 k6 Cloud 使用
  - 20.7 自定义输出格式
  - 20.8 实时监控仪表盘

- [第21章：CI/CD 集成](./21-CICD集成.md)
  - 21.1 GitHub Actions 集成
  - 21.2 GitLab CI 集成
  - 21.3 Jenkins 集成
  - 21.4 Azure DevOps 集成
  - 21.5 持续性能测试策略
  - 21.6 性能回归测试

### 第六部分：对比与分析

- [第22章：k6 vs JMeter 全面对比](./22-k6-vs-JMeter对比.md)
  - 22.1 架构对比
  - 22.2 性能对比
  - 22.3 内存消耗对比
  - 22.4 运行速度对比
  - 22.5 脚本编写对比
  - 22.6 功能特性对比
  - 22.7 CI/CD 集成对比
  - 22.8 报告与监控对比
  - 22.9 学习曲线对比
  - 22.10 适用场景对比
  - 22.11 选择建议

- [第23章：k6 vs 其他工具](./23-k6-vs-其他工具.md)
  - 23.1 k6 vs Gatling
  - 23.2 k6 vs Locust
  - 23.3 k6 vs Artillery
  - 23.4 k6 vs wrk
  - 23.5 工具选择决策树

### 第七部分：最佳实践

- [第24章：性能测试最佳实践](./24-性能测试最佳实践.md)
  - 24.1 测试计划制定
  - 24.2 测试环境准备
  - 24.3 测试数据管理
  - 24.4 脚本编写规范
  - 24.5 结果分析技巧
  - 24.6 性能优化建议
  - 24.7 常见问题解决

- [第25章：k6 脚本优化](./25-k6脚本优化.md)
  - 25.1 内存优化
  - 25.2 CPU 优化
  - 25.3 网络优化
  - 25.4 脚本结构优化
  - 25.5 性能调优技巧

- [第26章：错误处理与调试](./26-错误处理与调试.md)
  - 26.1 错误处理策略
  - 26.2 重试机制
  - 26.3 日志记录
  - 26.4 调试技巧
  - 26.5 问题排查方法

### 第八部分：面试与进阶

- [第27章：k6 面试高频问题](./27-k6面试高频问题.md)
  - 27.1 基础概念问题
  - 27.2 原理机制问题
  - 27.3 使用场景问题
  - 27.4 性能优化问题
  - 27.5 工具对比问题
  - 27.6 实战经验问题
  - 27.7 问题解答模板

- [第28章：高级主题](./28-高级主题.md)
  - 28.1 分布式测试
  - 28.2 自定义扩展开发
  - 28.3 性能测试平台搭建
  - 28.4 自动化测试框架
  - 28.5 性能测试左移

- [第29章：k6 生态与扩展](./29-k6生态与扩展.md)
  - 29.1 k6 官方扩展
  - 29.2 第三方扩展
  - 29.3 JavaScript 库使用
  - 29.4 社区资源
  - 29.5 贡献指南

- [第30章：未来展望](./30-未来展望.md)
  - 30.1 k6 发展方向
  - 30.2 性能测试趋势
  - 30.3 云原生测试
  - 30.4 AI 在性能测试中的应用

## 📖 如何使用本指南

1. **初学者**：按顺序阅读第1-8章，掌握基础
2. **有经验者**：直接跳到第14-18章实战案例
3. **面试准备**：重点阅读第27章
4. **架构师**：关注第20、28、29章

## 🎯 学习目标

完成本指南学习后，你将能够：
- ✅ 深入理解 k6 的核心原理
- ✅ 熟练编写各种测试脚本
- ✅ 设计完整的性能测试方案
- ✅ 集成到 CI/CD 流程
- ✅ 搭建性能监控系统
- ✅ 解决实际项目中的性能问题

## 📚 参考资料

- [k6 官方文档](https://grafana.com/docs/k6/latest/)
- [k6 GitHub 仓库](https://github.com/grafana/k6)
- [k6 社区](https://k6.io/slack)

## 📝 更新日志

- 2024年：初始版本发布

---

**开始你的 k6 学习之旅吧！** 🚀

